(()=>{"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function e(e){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?t(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(new class{constructor(){this.state={components:{},mounted:[]}}setState(t){return this.state=e(e({},this.state),t),this.state}registerComponents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({components:e({},t)})}deregisterComponents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{components:e}=this.state;t.forEach((t=>{delete e[t]}))}mountComponents(){const{state:t}=this;[...document.querySelectorAll("[data-component]")].forEach(((e,n)=>{const o=e.getAttribute("data-component");!e.getAttribute("data-mounted")&&t.components[o]&&"function"==typeof t.components[o]&&(this.setState({mounted:[...t.mounted,{id:"".concat(n),element:e,mounted:!0,instance:new t.components[o](e)}]}),e.setAttribute("data-mounted",!0))}))}unmountComponents(){const{state:t}=this;t.mounted.forEach((t=>{this.componentShouldUnmount(t.element)&&t.instance&&!0===t.mounted&&"function"==typeof t.instance.unmount&&(t.instance.unmount(),t.mounted=!1)}))}static componentShouldUnmount(t){return!document.documentElement.contains(t)}init(t){this.registerComponents(t),document.addEventListener("DOMContentLoaded",(()=>{this.mountComponents(),this.bindToWindow()}))}bindToWindow(){window.theme=window.theme||{},window.theme.views=window.theme.views||[],window.theme.views.push(this)}}).init({})})();